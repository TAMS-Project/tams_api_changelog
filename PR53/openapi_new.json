{"openapi": "3.0.2", "info": {"title": "TAMS API v1", "version": "1.0.0", "description": ""}, "paths": {"/api/v1/users/login/": {"get": {"operationId": "users_api_login", "summary": "Login (normal, admin)", "parameters": [], "responses": {"200": {"description": "OK"}}, "description": "\uad6c\uae00 \uacc4\uc815 \ub85c\uadf8\uc778 \ud398\uc774\uc9c0\ub85c \uc774\ub3d9\ud569\ub2c8\ub2e4.", "tags": ["Users"]}}, "/api/v1/users/login/callback/": {"get": {"operationId": "users_api_login_callback", "summary": "Login Callback (normal, admin)", "parameters": [], "responses": {"200": {"description": "OK"}}, "description": "\uad6c\uae00 \ub85c\uadf8\uc778 \ud6c4, callback url\ub85c \uc774\ub3d9\ud569\ub2c8\ub2e4.", "tags": ["Users"]}}, "/api/v1/users/me/": {"get": {"operationId": "users_api_get_my_info", "summary": "Get My Info (normal, admin)", "parameters": [], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserDTO"}}}}}, "description": "\ud604\uc7ac \ub85c\uadf8\uc778\ud55c \uc720\uc800\uc758 \uc815\ubcf4", "tags": ["Users"], "security": [{"JWTAuth": []}]}}, "/api/v1/assets/presigned_url/": {"get": {"operationId": "assets_api_get_asset_presigned_url", "summary": "Get Asset Presigned Url (admin)", "parameters": [{"in": "query", "name": "filename", "schema": {"title": "Filename", "type": "string"}, "required": true}, {"in": "query", "name": "is_create", "schema": {"title": "Is Create", "default": true, "type": "boolean"}, "required": false}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PresignedUrlDTO"}}}}}, "tags": ["Assets"], "security": [{"JWTAuth": []}]}}, "/api/v1/assets/list/": {"get": {"operationId": "assets_api_list_assets", "summary": "List Assets (normal, admin)", "parameters": [{"in": "query", "name": "order_by", "schema": {"description": "order by field of asset", "default": "id", "allOf": [{"title": "OrderBy", "description": "An enumeration.", "enum": ["id", "name", "file_size", "created_at", "updated_at"], "type": "string"}]}, "required": false, "description": "order by field of asset"}, {"in": "query", "name": "created_by", "schema": {"title": "Created By", "description": "created by user id", "type": "integer"}, "required": false, "description": "created by user id"}, {"in": "query", "name": "search_text", "schema": {"title": "Search Text", "description": "search text", "type": "string"}, "required": false, "description": "search text"}, {"in": "query", "name": "limit", "schema": {"title": "Limit", "default": 100, "minimum": 0, "type": "integer"}, "required": false}, {"in": "query", "name": "offset", "schema": {"title": "Offset", "default": 0, "minimum": 0, "type": "integer"}, "required": false}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/AssetPreviewPagedDTO"}}}}}, "tags": ["Assets"], "security": [{"JWTAuth": []}]}}, "/api/v1/assets/list/search_options/": {"get": {"operationId": "assets_api_search_options_assets", "summary": "Search Options Assets (normal, admin)", "parameters": [], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/AssetSearchOptionsDTO"}}}}}, "tags": ["Assets"], "security": [{"JWTAuth": []}]}}, "/api/v1/assets/{id}/": {"get": {"operationId": "assets_api_retrieve_asset", "summary": "Retrieve Asset (normal, admin)", "parameters": [{"in": "path", "name": "id", "schema": {"title": "Id", "type": "integer"}, "required": true}, {"in": "query", "name": "version", "schema": {"title": "Version", "description": "version of asset", "type": "integer"}, "required": false, "description": "version of asset"}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/AssetDTO"}}}}}, "tags": ["Assets"], "security": [{"JWTAuth": []}]}, "delete": {"operationId": "assets_api_delete_asset", "summary": "Delete Asset (admin)", "parameters": [{"in": "path", "name": "id", "schema": {"title": "Id", "type": "integer"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ResponseDTO"}}}}, "400": {"description": "Bad Request", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ResponseDTO"}}}}}, "tags": ["Assets"], "security": [{"JWTAuth": []}]}}, "/api/v1/assets/{id}/history/": {"get": {"operationId": "assets_api_list_asset_history", "summary": "List Asset History (normal, admin)", "parameters": [{"in": "path", "name": "id", "schema": {"title": "Id", "type": "integer"}, "required": true}, {"in": "query", "name": "limit", "schema": {"title": "Limit", "default": 100, "minimum": 0, "type": "integer"}, "required": false}, {"in": "query", "name": "offset", "schema": {"title": "Offset", "default": 0, "minimum": 0, "type": "integer"}, "required": false}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/AssetHistoryPagedDTO"}}}}}, "tags": ["Assets"], "security": [{"JWTAuth": []}]}}, "/api/v1/assets/{id}/comments/": {"post": {"operationId": "assets_api_post_asset_comment", "summary": "Post Asset Comment (normal, admin)", "parameters": [{"in": "path", "name": "id", "schema": {"title": "Id", "type": "integer"}, "required": true}, {"in": "query", "name": "text", "schema": {"title": "Text", "type": "string"}, "required": true}, {"in": "query", "name": "parent_id", "schema": {"title": "Parent Id", "type": "integer"}, "required": false}], "responses": {"201": {"description": "Created", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ResponseDTO"}}}}, "400": {"description": "Bad Request", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ResponseDTO"}}}}}, "tags": ["Assets"], "security": [{"JWTAuth": []}]}}, "/api/v1/assets/{id}/comments/list/": {"get": {"operationId": "assets_api_list_asset_comments", "summary": "List Asset Comments (normal, admin)", "parameters": [{"in": "path", "name": "id", "schema": {"title": "Id", "type": "integer"}, "required": true}, {"in": "query", "name": "limit", "schema": {"title": "Limit", "default": 100, "minimum": 0, "type": "integer"}, "required": false}, {"in": "query", "name": "offset", "schema": {"title": "Offset", "default": 0, "minimum": 0, "type": "integer"}, "required": false}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/AssetCommentPagedDTO"}}}}}, "tags": ["Assets"], "security": [{"JWTAuth": []}]}}, "/api/v1/assets/{id}/comments/{comment_id}/": {"delete": {"operationId": "assets_api_delete_asset_comment", "summary": "Delete Asset Comment (normal, admin)", "parameters": [{"in": "path", "name": "id", "schema": {"title": "Id", "type": "integer"}, "required": true}, {"in": "path", "name": "comment_id", "schema": {"title": "Comment Id", "type": "integer"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ResponseDTO"}}}}, "400": {"description": "Bad Request", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ResponseDTO"}}}}}, "tags": ["Assets"], "security": [{"JWTAuth": []}]}}, "/api/v1/admin/assets/sync/all/": {"get": {"operationId": "admin_app_api_sync_assets", "summary": "Sync Assets (admin)", "parameters": [], "responses": {"200": {"description": "OK"}}, "description": "\ubaa8\ub4e0 Asset \uc815\ubcf4\ub97c \uac00\uc838\uc640 DB\uc640 \ub3d9\uae30\ud654\ud569\ub2c8\ub2e4.", "tags": ["Admin"], "security": [{"JWTAuth": []}]}}, "/api/v1/admin/assets/sync/asset/history/": {"get": {"operationId": "admin_app_api_sync_versions", "summary": "Sync Versions (admin)", "parameters": [{"in": "query", "name": "filename", "schema": {"title": "Filename", "type": "string"}, "required": true}, {"in": "query", "name": "limit", "schema": {"title": "Limit", "type": "integer"}, "required": false}, {"in": "query", "name": "id", "schema": {"title": "Id", "type": "integer"}, "required": false}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"title": "Response"}}}}, "404": {"description": "Not Found", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ResponseDTO"}}}}}, "description": "filename\uc744 \ubc1b\uc544 \ud574\ub2f9 Asset\uc774 DB\uc5d0 \uc5c6\uc73c\uba74 \uc0dd\uc131\ud558\uace0, AssetHistory \uc815\ubcf4\ub97c \uac00\uc838\uc640 DB\uc640 \ub3d9\uae30\ud654\ud569\ub2c8\ub2e4.", "tags": ["Admin"], "security": [{"JWTAuth": []}]}}, "/api/v1/admin/assets/sync/all/history/": {"get": {"operationId": "admin_app_api_sync_assets_all", "summary": "Sync Assets All (admin)", "parameters": [], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"title": "Response"}}}}, "404": {"description": "Not Found", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ResponseDTO"}}}}}, "description": "DB\uc5d0 \uc874\uc7ac\ud558\ub294 \ubaa8\ub4e0 Asset\uc758 AssetHistory \uc815\ubcf4\ub97c \uac00\uc838\uc640 DB\uc640 \ub3d9\uae30\ud654\ud569\ub2c8\ub2e4.", "tags": ["Admin"], "security": [{"JWTAuth": []}]}}, "/api/v1/admin/cloudfront/invalidate/": {"post": {"operationId": "admin_app_api_invalidate_cloudfront", "summary": "Invalidate Cloudfront (admin)", "parameters": [{"in": "query", "name": "filename", "schema": {"title": "Filename", "type": "string"}, "required": true}, {"in": "query", "name": "is_create", "schema": {"title": "Is Create", "default": true, "type": "boolean"}, "required": false}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"title": "Response"}}}}, "404": {"description": "Not Found", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ResponseDTO"}}}}}, "tags": ["Admin"], "security": [{"JWTAuth": []}]}}}, "components": {"schemas": {"UserDTO": {"title": "UserDTO", "type": "object", "properties": {"id": {"title": "Id", "type": "integer"}, "name": {"title": "Name", "maxLength": 100, "type": "string"}, "email": {"title": "Email", "maxLength": 100, "type": "string"}, "profile_image": {"title": "Profile Image", "maxLength": 1000, "type": "string"}, "role": {"title": "Role", "default": "normal", "maxLength": 100, "type": "string"}, "created_at": {"title": "Created At", "type": "string", "format": "date-time"}, "last_login": {"title": "Last Login", "type": "string", "format": "date-time"}}, "required": ["name", "email", "created_at"]}, "PresignedUrlDTO": {"title": "PresignedUrlDTO", "type": "object", "properties": {"url": {"title": "Url", "description": "Presigned URL", "type": "string"}, "headers": {"title": "Headers", "description": "Presigned URL headers", "type": "object", "additionalProperties": {"type": "string"}}}, "required": ["url", "headers"]}, "AssetPreviewDTO": {"title": "AssetPreviewDTO", "type": "object", "properties": {"id": {"title": "Id", "type": "integer"}, "name": {"title": "Name", "type": "string"}, "thumbnail_url": {"title": "Thumbnail Url", "type": "string"}, "is_available": {"title": "Is Available", "type": "boolean"}}, "required": ["id", "name", "thumbnail_url", "is_available"]}, "AssetPreviewPagedDTO": {"title": "AssetPreviewPagedDTO", "type": "object", "properties": {"objects": {"title": "Objects", "type": "array", "items": {"$ref": "#/components/schemas/AssetPreviewDTO"}}, "count": {"title": "Count", "type": "integer"}}, "required": ["objects", "count"]}, "OrderBy": {"title": "OrderBy", "description": "An enumeration.", "enum": ["id", "name", "file_size", "created_at", "updated_at"], "type": "string"}, "UserSimpleSchema": {"title": "UserSimpleSchema", "type": "object", "properties": {"id": {"title": "Id", "type": "integer"}, "name": {"title": "Name", "maxLength": 100, "type": "string"}, "profile_image": {"title": "Profile Image", "maxLength": 1000, "type": "string"}}, "required": ["name"]}, "AssetSearchOptionsDTO": {"title": "AssetSearchOptionsDTO", "type": "object", "properties": {"order_by_options": {"default": ["id", "name", "file_size", "created_at", "updated_at"], "type": "array", "items": {"$ref": "#/components/schemas/OrderBy"}}, "created_by_options": {"title": "Created By Options", "type": "array", "items": {"$ref": "#/components/schemas/UserSimpleSchema"}}}, "required": ["created_by_options"]}, "AssetDTO": {"title": "AssetDTO", "type": "object", "properties": {"id": {"title": "Id", "type": "integer"}, "name": {"title": "Name", "type": "string"}, "url": {"title": "Url", "type": "string"}, "created_at": {"title": "Created At", "type": "string", "format": "date-time"}, "updated_at": {"title": "Updated At", "type": "string", "format": "date-time"}, "created_by": {"$ref": "#/components/schemas/UserSimpleSchema"}, "updated_by": {"$ref": "#/components/schemas/UserSimpleSchema"}, "is_available": {"title": "Is Available", "type": "boolean"}, "file_info": {"title": "File Info", "type": "string"}, "latest_version": {"title": "Latest Version", "type": "integer"}, "is_deletable": {"title": "Is Deletable", "type": "boolean"}}, "required": ["id", "name", "url", "created_at", "updated_at", "created_by", "updated_by", "is_available", "file_info", "latest_version", "is_deletable"]}, "ResponseDTO": {"title": "ResponseDTO", "type": "object", "properties": {"success": {"title": "Success", "type": "boolean"}, "error_type": {"title": "Error Type", "type": "string"}, "detail": {"title": "Detail", "default": "", "type": "string"}}, "required": ["success"]}, "AssetHistoryDTO": {"title": "AssetHistoryDTO", "type": "object", "properties": {"id": {"title": "Id", "type": "integer"}, "user": {"$ref": "#/components/schemas/UserSimpleSchema"}, "action": {"title": "Action", "type": "string"}, "logged_at": {"title": "Logged At", "type": "string", "format": "date-time"}, "version": {"title": "Version", "type": "integer"}, "version_id": {"title": "Version Id", "type": "string"}, "thumbnail_url": {"title": "Thumbnail Url", "type": "string"}, "version_url": {"title": "Version Url", "type": "string"}}, "required": ["id", "user", "action", "logged_at", "version", "version_id", "thumbnail_url", "version_url"]}, "AssetHistoryPagedDTO": {"title": "AssetHistoryPagedDTO", "type": "object", "properties": {"objects": {"title": "Objects", "type": "array", "items": {"$ref": "#/components/schemas/AssetHistoryDTO"}}, "count": {"title": "Count", "type": "integer"}}, "required": ["objects", "count"]}, "AssetCommentDTO": {"title": "AssetCommentDTO", "type": "object", "properties": {"id": {"title": "Id", "type": "integer"}, "user": {"$ref": "#/components/schemas/UserSimpleSchema"}, "text": {"title": "Text", "type": "string"}, "commented_at": {"title": "Commented At", "type": "string", "format": "date-time"}, "is_mine": {"title": "Is Mine", "type": "boolean"}}, "required": ["id", "user", "text", "commented_at", "is_mine"]}, "AssetCommentPagedDTO": {"title": "AssetCommentPagedDTO", "type": "object", "properties": {"objects": {"title": "Objects", "type": "array", "items": {"$ref": "#/components/schemas/AssetCommentDTO"}}, "count": {"title": "Count", "type": "integer"}}, "required": ["objects", "count"]}}, "securitySchemes": {"JWTAuth": {"type": "http", "scheme": "bearer"}}}}